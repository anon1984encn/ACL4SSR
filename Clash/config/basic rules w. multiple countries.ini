# æ··åˆç«¯å£ HTTPå’ŒSOCKS5ç”¨ä¸€ä¸ªç«¯å£
mixed-port: 7890

# HTTP ä»£ç†ç«¯å£
# port: 7890

# SOCKS5 ä»£ç†ç«¯å£
socks-port: 7891

# Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£ (å¦‚éœ€ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·å–æ¶ˆæ³¨é‡Š)
redir-port: 7892

# å…è®¸å±€åŸŸç½‘çš„è¿æ¥ï¼ˆå¯ç”¨æ¥å…±äº«ä»£ç†ï¼‰
allow-lan: true

# ä»…åœ¨å°†allow-lanè®¾ç½®ä¸ºtrueæ—¶é€‚ç”¨
# #"*": ç»‘å®šæ‰€æœ‰IPåœ°å€
# #192.168.122.11: ç»‘å®šå•ä¸ªIPv4åœ°å€
# #"[aaaa::a8aa:ff:fe09:57d8]": ç»‘å®šå•ä¸ªIPv6åœ°å€
bind-address: "*"
ipv6: true

# è§„åˆ™æ¨¡å¼ï¼šruleï¼ˆè§„åˆ™ï¼‰ / globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ directï¼ˆå…¨å±€ç›´è¿ï¼‰/ script (è„šæœ¬)
# mode: rule

# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚
# 5 ä¸ªçº§åˆ«ï¼šsilent / error / warning / info / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚
log-level: info

# Clash çš„ RESTful API
external-controller: '127.0.0.1:9090'

# æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `RESTful API/ui`
# å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚
# http://127.0.0.1:9090/ui/#/
# external-ui: folder
# yacdé¢æ¿ï¼š  https://github.com/haishanh/yacd
# Razordé¢æ¿ï¼šhttp://clash.razord.top/#/proxies
# external-ui: dashboard

# RESTful API çš„å£ä»¤ (å¯é€‰)
# secret: ""

# å®éªŒæ€§åŠŸèƒ½
experimental:
  ignore-resolve-fail: true # å¿½ç•¥ DNS è§£æå¤±è´¥ï¼Œé»˜è®¤å€¼ä¸º true
  # interface-name: en0 # outbound interface name

# æœ¬åœ° SOCKS5 / HTTP(S) æœåŠ¡è®¤è¯
# authentication:
#  - "user1:pass1"
#  - "user2:pass2"

# å®éªŒæ€§åŠŸèƒ½ hosts, æ”¯æŒé€šé…ç¬¦ (ä¾‹å¦‚ *.clash.dev ç”šè‡³ *.foo.*.example.com)
# é™æ€çš„åŸŸå æ¯” é€šé…åŸŸå å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ (foo.example.com ä¼˜å…ˆäº *.example.com)
# æ³¨æ„: hosts åœ¨ fake-ip æ¨¡å¼ä¸‹ä¸ç”Ÿæ•ˆ
#hosts:
#   '*.clash.dev': 127.0.0.1
#   'alpha.clash.dev': '::1'

dns:
  enable: true # æ˜¯å¦å¯ç”¨dns false
  ipv6: true
  listen: 0.0.0.0:53
  enhanced-mode: redir-host # æ¨¡å¼ï¼šredir-hostæˆ–fake-ip
  fake-ip-range: 198.18.0.1/16 #
  fake-ip-filter: # fake ip ç™½åå•åˆ—è¡¨ï¼Œå¦‚æœä½ ä¸çŸ¥é“è¿™ä¸ªå‚æ•°çš„ä½œç”¨ï¼Œè¯·å‹¿ä¿®æ”¹
     - '*.lan'
     - localhost.ptlogin2.qq.com
  nameserver:
     - 223.5.5.5 # é˜¿é‡ŒDNS
     - 119.29.29.29 # è…¾è®¯DNS
     - https://dns.alidns.com/dns-query # é˜¿é‡Œ DoH DNS
     - https://doh.pub/dns-query # è…¾è®¯ DoH DNS
  fallback:
     - 8.8.8.8 # è°·æ­ŒDNS
     - 1.1.1.1 # Cloudflare DNS
     - tls://1.0.0.1:853
     - tls://dns.google:853
     - https://dns.google/dns-query
     - https://cloudflare-dns.com/dns-query
  fallback-filter:
     geoip: true # é»˜è®¤
     ipcidr: # åœ¨è¿™ä¸ªç½‘æ®µå†…çš„ IP åœ°å€ä¼šè¢«è€ƒè™‘ä¸ºè¢«æ±¡æŸ“çš„ IP
       - 240.0.0.0/4

[custom]
;ä¸è¦éšæ„æ”¹å˜å…³é”®å­—ï¼Œå¦åˆ™ä¼šå¯¼è‡´å‡ºé”™
;Anon1984è§„åˆ™

ruleset=ğŸ¯ å›½å†…ç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.list
ruleset=ğŸ¯ å›½å†…ç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Direct/Direct.list
ruleset=ğŸš« å¹¿å‘Šç§éš,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite.list
ruleset=ğŸš« å¹¿å‘Šç§éš,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.list
ruleset=ğŸš« å¹¿å‘Šç§éš,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Privacy/Privacy.list
ruleset=ğŸ“² Telegram,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list
ruleset=ğŸ¦š Twitter,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.list
ruleset=â“‚ï¸ Microsoft,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.list
ruleset=ğŸ¦ å›½é™…æµåª’ä½“,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.list
ruleset=ğŸš€ å›½é™…äº’è”,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list
ruleset=ğŸ¯ å›½å†…ç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.list
ruleset=ğŸ¯ å›½å†…ç›´è¿,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPs/ChinaIPs.list
ruleset=ğŸ¯ å›½å†…ç›´è¿,[]GEOIP,CN
ruleset=â™¾ï¸ Final,[]FINAL

custom_proxy_group=ğŸš€ å›½é™…äº’è”`select`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ“² Telegram`select`[]ğŸš€ å›½é™…äº’è”`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ¦š Twitter`select`[]ğŸš€ å›½é™…äº’è”`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=â“‚ï¸ Microsoft`select`[]ğŸš€ å›½é™…äº’è”`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ¦ å›½é™…æµåª’ä½“`select`[]ğŸš€ å›½é™…äº’è”`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=â™¾ï¸ Final`select`[]ğŸš€ å›½é™…äº’è”`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]â™»ï¸ è‡ªåŠ¨é€‰æ‹©`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`url-test`(æ¸¯|é¦™æ¸¯|HK|Hong Kong|HongKong|Hongkong)`http://cp.cloudflare.com/generate_204`900,,50
custom_proxy_group=ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`url-test`(å°|å°æ¹¾|å°ç£|å°åŒ—|æ–°åŒ—|å½°åŒ–|TW|Taiwan|Taipei)`http://cp.cloudflare.com/generate_204`900,,50
custom_proxy_group=ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`url-test`(æ—¥|æ—¥æœ¬|ä¸œäº¬|å¤§é˜ª|JP|Japan|Tokyo|Osaka)`http://cp.cloudflare.com/generate_204`900,,50
custom_proxy_group=ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`url-test`(ç¾|ç¾å›½|ç¾åœ‹|US|United States|America)`http://cp.cloudflare.com/generate_204`900,,50
custom_proxy_group=ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`url-test`(å¡|æ–°åŠ å¡|ç‹®åŸ|ç…åŸ|SG|Singapore)`http://cp.cloudflare.com/generate_204`900,,50
custom_proxy_group=â™»ï¸ è‡ªåŠ¨é€‰æ‹©`url-test`.*`http://cp.cloudflare.com/generate_204`900,,50
custom_proxy_group=âœ… æ‰‹åŠ¨åˆ‡æ¢`select`.*
custom_proxy_group=ğŸ¯ å›½å†…ç›´è¿`select`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡¼ğŸ‡¸ å°æ¹¾èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹`[]âœ… æ‰‹åŠ¨åˆ‡æ¢`[]DIRECT
custom_proxy_group=ğŸš« å¹¿å‘Šç§éš`select`[]REJECT

enable_rule_generator=true
overwrite_original_rules=true

